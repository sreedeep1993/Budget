<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Budget Tracker</title>

<!-- Favicon -->
<link rel="icon" type="image/png" href="icon-192.png">
<link rel="apple-touch-icon" sizes="180x180" href="icon-192.png">
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#4B6CB7">

<style>
/* Reset and base */
* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Helvetica Neue', Arial, sans-serif; background: #f5f6fa; color: #333; }

/* App container */
.app {
  max-width: 480px;
  margin: 0 auto;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Header */
header {
  background: linear-gradient(90deg,#4B6CB7,#182848);
  color: white;
  padding: 25px 20px;
  text-align: center;
  border-bottom-left-radius: 20px;
  border-bottom-right-radius: 20px;
}
header h2 { font-weight: 600; font-size: 24px; }
.balance { font-size: 32px; font-weight: 700; margin-top: 5px; }

/* Summary Boxes */
.summary {
  display: flex;
  justify-content: space-between;
  padding: 20px;
}
.box {
  flex: 1;
  text-align: center;
  margin: 0 5px;
  background: white;
  padding: 15px 0;
  border-radius: 15px;
  box-shadow: 0 3px 6px rgba(0,0,0,0.1);
}
.box h4 { font-weight: 500; margin-bottom: 5px; }
.box p { font-weight: 600; font-size: 18px; color: #333; }

/* Form */
.form {
  background: white;
  padding: 20px;
  margin: 15px;
  border-radius: 15px;
  box-shadow: 0 3px 6px rgba(0,0,0,0.05);
}
.form h3 { margin-bottom: 15px; font-weight: 500; color: #555; }
input, select, button {
  width: 100%;
  padding: 12px;
  margin: 8px 0;
  font-size: 16px;
  border-radius: 10px;
  border: 1px solid #ddd;
  outline: none;
}
input:focus, select:focus { border-color: #4B6CB7; }
button {
  background: #4B6CB7;
  color: white;
  border: none;
  cursor: pointer;
  font-weight: 600;
  transition: background 0.3s;
}
button:hover { background: #182848; }

/* Transactions */
.transactions {
  padding: 20px;
  margin: 0 15px 15px;
}
.transactions h3 { margin-bottom: 15px; font-weight: 500; color: #555; }
.transaction {
  display: flex;
  justify-content: space-between;
  align-items: center;
  background: white;
  padding: 12px 15px;
  margin-bottom: 10px;
  border-radius: 12px;
  box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}
.transaction .tag {
  background: #eee;
  padding: 3px 8px;
  border-radius: 8px;
  font-size: 12px;
  margin-top: 4px;
  display: inline-block;
}
.income { border-left: 4px solid #28a745; }
.expense { border-left: 4px solid #dc3545; }
.delete-btn {
  background: #ff4b5c;
  color: white;
  border: none;
  padding: 5px 10px;
  border-radius: 8px;
  cursor: pointer;
  font-size: 12px;
  transition: background 0.3s;
}
.delete-btn:hover { background: #c0392b; }
</style>
</head>

<body>
<div class="app">

<header>
  <h2>ðŸ’¶ Budget Tracker</h2>
  <div class="balance" id="balance">â‚¬0.00</div>
</header>

<div class="summary">
  <div class="box">
    <h4>Income</h4>
    <p id="income">â‚¬0.00</p>
  </div>
  <div class="box">
    <h4>Expenses</h4>
    <p id="expense">â‚¬0.00</p>
  </div>
</div>

<div class="form">
  <h3>Add Transaction</h3>
  <input type="text" id="text" placeholder="Description">
  <input type="number" id="amount" placeholder="Amount (â‚¬)">
  <select id="type" onchange="updateCategories()">
    <option value="income">Income</option>
    <option value="expense">Expense</option>
  </select>
  <select id="category"></select>
  <button onclick="addTransaction()">Add</button>
</div>

<div class="transactions">
  <h3>History</h3>
  <div id="list"></div>
</div>

</div>

<script>
let transactions = JSON.parse(localStorage.getItem("transactions")) || [];

const incomeCategories = ["Salary", "Refunds", "Interests", "Other"];
const expenseCategories = ["Rent","Transport","Grocery","Shopping","Parent Support","Financial Investments","Utilities","Subscriptions","Internet"];
const categoryShorts = {
    "Salary":"SAL","Refunds":"REF","Interests":"INT","Other":"OTH",
    "Rent":"RENT","Transport":"TRNS","Grocery":"GROC","Shopping":"SHOP",
    "Parent Support":"PRNT","Financial Investments":"INV","Utilities":"UTIL",
    "Subscriptions":"SUB","Internet":"NET"
};

function updateCategories(){
    const type = document.getElementById("type").value;
    const select = document.getElementById("category");
    select.innerHTML = "";
    const cats = type==="income"?incomeCategories:expenseCategories;
    cats.forEach(c=>{
        const opt = document.createElement("option");
        opt.value = c; opt.textContent = c;
        select.appendChild(opt);
    });
}

function addTransaction(){
    const text = document.getElementById("text").value;
    const amount = document.getElementById("amount").value;
    const type = document.getElementById("type").value;
    const category = document.getElementById("category").value;
    if(!text||!amount){ alert("Please fill all fields"); return;}
    transactions.push({id:Date.now(),text,amount:+amount,type,category});
    saveData(); updateUI();
    document.getElementById("text").value=""; document.getElementById("amount").value="";
}

function deleteTransaction(id){
    transactions = transactions.filter(t=>t.id!==id);
    saveData(); updateUI();
}

function updateUI(){
    const list=document.getElementById("list");
    list.innerHTML="";
    let income=0,expense=0;
    transactions.forEach(t=>{
        if(t.type==="income") income+=t.amount; else expense+=t.amount;
        const short=categoryShorts[t.category]||"OTH";
        const div=document.createElement("div");
        div.classList.add("transaction",t.type);
        div.innerHTML=`
            <div>
                <strong>${t.text}</strong><br>
                <span class="tag">${short}</span>
            </div>
            <div>
                â‚¬${t.amount.toFixed(2)}
                <button class="delete-btn" onclick="deleteTransaction(${t.id})">âœ–</button>
            </div>`;
        list.appendChild(div);
    });
    const balance=income-expense;
    document.getElementById("income").innerText="â‚¬"+income.toFixed(2);
    document.getElementById("expense").innerText="â‚¬"+expense.toFixed(2);
    document.getElementById("balance").innerText="â‚¬"+balance.toFixed(2);
}

function saveData(){ localStorage.setItem("transactions",JSON.stringify(transactions)); }

updateCategories(); updateUI();
</script>
</body>
</html>
